/*global require,console*/
/*jslint node: true */
'use strict';

var domain = require('puzzle-domain');

module.exports = function(router) {
	
	router.get('/puzzle/score', function (req, res) {
		domain.getScore(function (puzzles) {
			res.json(puzzles);
		});
	});

	router.post('/puzzle', function (req, res) {
		var puzzle = req.body;
		domain.createPuzzle(puzzle, function (puzzleId) {
			res.json({ id: puzzleId });
		});
	});

	router.get('/puzzle/:puzzleId', function (req, res) {
		var puzzle_id = req.params.puzzle_id;

		domain.getPuzzle(puzzle_id, function (puzzle) {
			res.json(puzzle);
		});
	});

};
